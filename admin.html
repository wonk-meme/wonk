<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WONK Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Firebase Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.15.0/firebase-app-compat.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.15.0/firebase-auth-compat.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.15.0/firebase-firestore-compat.min.js"></script>
  
  <style>
    :root {
      --primary-blue: #00d4ff;
      --secondary-blue: #0099cc;
      --primary-gold: #ffd700;
      --secondary-gold: #ffb347;
      --dark-bg: #0a0e1a;
      --darker-bg: #050810;
      --glass-blue: rgba(0, 212, 255, 0.1);
      --glass-gold: rgba(255, 215, 0, 0.1);
    }

    body {
      background: linear-gradient(135deg, var(--darker-bg) 0%, var(--dark-bg) 50%, #1a0f2e 100%);
      font-family: 'Rajdhani', sans-serif;
      color: #ffffff;
      min-height: 100vh;
    }

    .glass-panel {
      background: linear-gradient(135deg, var(--glass-blue) 0%, var(--glass-gold) 100%);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .glow-blue {
      color: var(--primary-blue);
      text-shadow: 0 0 10px var(--primary-blue), 0 0 20px var(--primary-blue), 0 0 40px var(--primary-blue);
    }

    .glow-gold {
      color: var(--primary-gold);
      text-shadow: 0 0 10px var(--primary-gold), 0 0 20px var(--primary-gold), 0 0 40px var(--primary-gold);
    }

    .action-btn {
      position: relative;
      padding: 12px 24px;
      margin: 5px;
      background: linear-gradient(45deg, var(--primary-blue), var(--secondary-blue));
      border: 2px solid var(--primary-blue);
      border-radius: 25px;
      color: white;
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s ease;
      overflow: hidden;
      text-decoration: none;
      display: inline-block;
    }

    .action-btn:hover {
      background: linear-gradient(45deg, var(--primary-gold), var(--secondary-gold));
      border-color: var(--primary-gold);
      box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
      transform: translateY(-2px);
    }

    .danger-btn {
      background: linear-gradient(45deg, #dc2626, #b91c1c);
      border-color: #dc2626;
    }

    .danger-btn:hover {
      background: linear-gradient(45deg, #ef4444, #dc2626);
      border-color: #ef4444;
      box-shadow: 0 0 30px rgba(239, 68, 68, 0.6);
    }

    .input-field {
      background: rgba(10, 14, 26, 0.8);
      border: 2px solid rgba(0, 212, 255, 0.3);
      border-radius: 10px;
      padding: 12px 16px;
      color: white;
      font-family: 'Rajdhani', sans-serif;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .input-field:focus {
      outline: none;
      border-color: var(--primary-blue);
      box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
    }

    .select-field {
      background: rgba(10, 14, 26, 0.8);
      border: 2px solid rgba(0, 212, 255, 0.3);
      border-radius: 10px;
      padding: 12px 16px;
      color: white;
      font-family: 'Rajdhani', sans-serif;
      font-size: 16px;
    }

    .crypto-card {
      transition: all 0.3s ease;
    }

    .crypto-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
    }

    .status-active {
      color: #10b981;
    }

    .status-inactive {
      color: #ef4444;
    }

    .sidebar {
      background: linear-gradient(135deg, rgba(10, 14, 26, 0.9) 0%, rgba(5, 8, 16, 0.9) 100%);
      backdrop-filter: blur(15px);
      border-right: 2px solid rgba(0, 212, 255, 0.3);
    }

    .sidebar-item {
      padding: 15px 20px;
      margin: 5px 10px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid transparent;
    }

    .sidebar-item:hover {
      background: rgba(0, 212, 255, 0.1);
      border-color: var(--primary-blue);
    }

    .sidebar-item.active {
      background: linear-gradient(45deg, var(--glass-blue), var(--glass-gold));
      border-color: var(--primary-blue);
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="bg-black bg-opacity-50 backdrop-blur-lg border-b border-blue-500 border-opacity-30">
    <div class="container mx-auto px-6 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-xl font-bold">
            W
          </div>
          <span class="ml-3 text-2xl font-bold glow-blue font-mono">WONK ADMIN</span>
        </div>
        
        <div class="flex items-center space-x-4">
          <div class="text-right">
            <div class="text-sm text-gray-400">Admin Panel</div>
            <div class="text-lg font-bold glow-gold">Contract Management</div>
          </div>
          <button onclick="logout()" class="action-btn danger-btn">
            <i class="fas fa-sign-out-alt mr-2"></i>
            Logout
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="flex min-h-screen">
    <!-- Sidebar -->
    <div class="sidebar w-64 p-6">
      <nav class="space-y-2">
        <div class="sidebar-item active" onclick="showSection('dashboard')">
          <i class="fas fa-tachometer-alt mr-3"></i>
          Dashboard
        </div>
        <div class="sidebar-item" onclick="showSection('contracts')">
          <i class="fas fa-file-contract mr-3"></i>
          Manage Contracts
        </div>
        <div class="sidebar-item" onclick="showSection('voting')">
          <i class="fas fa-vote-yea mr-3"></i>
          Voting System
        </div>
        <div class="sidebar-item" onclick="showSection('users')">
          <i class="fas fa-users mr-3"></i>
          Users
        </div>
        <div class="sidebar-item" onclick="showSection('analytics')">
          <i class="fas fa-chart-bar mr-3"></i>
          Analytics
        </div>
        <div class="sidebar-item" onclick="showSection('settings')">
          <i class="fas fa-cog mr-3"></i>
          Settings
        </div>
      </nav>
    </div>

    <!-- Main Content Area -->
    <div class="flex-1 p-6">
      <!-- Dashboard Section -->
      <div id="dashboard" class="section">
        <h1 class="text-4xl font-bold mb-8 glow-blue font-mono">Admin Dashboard</h1>
        
        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <div class="glass-panel p-6 rounded-2xl">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-2xl font-bold glow-gold" id="totalContracts">0</div>
                <div class="text-gray-400">Total Contracts</div>
              </div>
              <i class="fas fa-file-contract text-3xl text-blue-400"></i>
            </div>
          </div>
          
          <div class="glass-panel p-6 rounded-2xl">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-2xl font-bold glow-gold" id="activeVotes">0</div>
                <div class="text-gray-400">Active Votes</div>
              </div>
              <i class="fas fa-vote-yea text-3xl text-green-400"></i>
            </div>
          </div>
          
          <div class="glass-panel p-6 rounded-2xl">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-2xl font-bold glow-gold" id="totalUsers">0</div>
                <div class="text-gray-400">Total Users</div>
              </div>
              <i class="fas fa-users text-3xl text-purple-400"></i>
            </div>
          </div>
          
          <div class="glass-panel p-6 rounded-2xl">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-2xl font-bold glow-gold" id="totalTransactions">0</div>
                <div class="text-gray-400">Transactions</div>
              </div>
              <i class="fas fa-exchange-alt text-3xl text-yellow-400"></i>
            </div>
          </div>
        </div>

        <!-- Recent Activity -->
        <div class="glass-panel p-6 rounded-2xl">
          <h2 class="text-2xl font-bold mb-4 glow-gold">Recent Activity</h2>
          <div id="recentActivity" class="space-y-3">
            <!-- Activity items will be loaded here -->
          </div>
        </div>
      </div>

      <!-- Contracts Section -->
      <div id="contracts" class="section hidden">
        <div class="flex items-center justify-between mb-8">
          <h1 class="text-4xl font-bold glow-blue font-mono">Manage Contracts</h1>
          <button onclick="showAddContractModal()" class="action-btn">
            <i class="fas fa-plus mr-2"></i>
            Add New Contract
          </button>
        </div>

        <!-- Contracts Grid -->
        <div id="contractsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Contract cards will be loaded here -->
        </div>
      </div>

      <!-- Voting Section -->
      <div id="voting" class="section hidden">
        <h1 class="text-4xl font-bold mb-8 glow-blue font-mono">Voting System</h1>
        
        <!-- Voting Controls -->
        <div class="glass-panel p-6 rounded-2xl mb-8">
          <h2 class="text-2xl font-bold mb-4 glow-gold">Voting Controls</h2>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <button onclick="enableVoting()" class="action-btn">
              <i class="fas fa-play mr-2"></i>
              Enable Voting
            </button>
            <button onclick="disableVoting()" class="action-btn danger-btn">
              <i class="fas fa-pause mr-2"></i>
              Disable Voting
            </button>
            <button onclick="resetVotes()" class="action-btn danger-btn">
              <i class="fas fa-redo mr-2"></i>
              Reset All Votes
            </button>
          </div>
        </div>

        <!-- Live Voting Stats -->
        <div class="glass-panel p-6 rounded-2xl">
          <h2 class="text-2xl font-bold mb-4 glow-gold">Live Voting Statistics</h2>
          <div id="votingStats">
            <!-- Voting statistics will be loaded here -->
          </div>
        </div>
      </div>

      <!-- Users Section -->
      <div id="users" class="section hidden">
        <h1 class="text-4xl font-bold mb-8 glow-blue font-mono">User Management</h1>
        
        <!-- Users Table -->
        <div class="glass-panel p-6 rounded-2xl">
          <div class="overflow-x-auto">
            <table class="w-full text-left">
              <thead>
                <tr class="border-b border-blue-500 border-opacity-30">
                  <th class="pb-3 text-blue-400">User ID</th>
                  <th class="pb-3 text-blue-400">Display Name</th>
                  <th class="pb-3 text-blue-400">Login Method</th>
                  <th class="pb-3 text-blue-400">Points</th>
                  <th class="pb-3 text-blue-400">Total Votes</th>
                  <th class="pb-3 text-blue-400">Actions</th>
                </tr>
              </thead>
              <tbody id="usersTable">
                <!-- User rows will be loaded here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Analytics Section -->
      <div id="analytics" class="section hidden">
        <h1 class="text-4xl font-bold mb-8 glow-blue font-mono">Analytics</h1>
        
        <!-- Charts and Analytics -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div class="glass-panel p-6 rounded-2xl">
            <h2 class="text-xl font-bold mb-4 glow-gold">Voting Trends</h2>
            <div id="votingChart" class="h-64 flex items-center justify-center text-gray-400">
              Chart will be implemented here
            </div>
          </div>
          
          <div class="glass-panel p-6 rounded-2xl">
            <h2 class="text-xl font-bold mb-4 glow-gold">User Growth</h2>
            <div id="userChart" class="h-64 flex items-center justify-center text-gray-400">
              Chart will be implemented here
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Section -->
      <div id="settings" class="section hidden">
        <h1 class="text-4xl font-bold mb-8 glow-blue font-mono">Settings</h1>
        
        <!-- Primary Token Settings -->
        <div class="glass-panel p-6 rounded-2xl mb-6">
          <h2 class="text-2xl font-bold mb-4 glow-gold">Primary Token Settings</h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2">Primary Token (Displayed on Main Site)</label>
              <select id="primaryToken" class="select-field w-full">
                <option value="">Select Primary Token</option>
                <!-- Options will be populated dynamically -->
              </select>
              <p class="text-xs text-gray-400 mt-1">This token will be displayed prominently on the main website like WONK currently is.</p>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Primary Token Contract Address</label>
              <input type="text" id="primaryTokenContract" class="input-field w-full" placeholder="Contract address for the primary token">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Primary Token Description</label>
              <textarea id="primaryTokenDescription" class="input-field w-full" rows="3" placeholder="Description for the primary token"></textarea>
            </div>
          </div>
        </div>

        <!-- System Settings -->
        <div class="glass-panel p-6 rounded-2xl">
          <h2 class="text-2xl font-bold mb-4 glow-gold">System Settings</h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2">Vote Cost (Points)</label>
              <input type="number" id="voteCost" class="input-field w-full" value="10">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Default User Points</label>
              <input type="number" id="defaultPoints" class="input-field w-full" value="1000">
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Voting Enabled</label>
              <select id="votingEnabled" class="select-field w-full">
                <option value="true">Enabled</option>
                <option value="false">Disabled</option>
              </select>
            </div>
            
            <button onclick="saveSettings()" class="action-btn">
              <i class="fas fa-save mr-2"></i>
              Save Settings
            </button>
          </div>
        </div>
      </div>
  </div>

  <!-- Add Contract Modal -->
  <div id="addContractModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="glass-panel p-8 rounded-3xl max-w-md w-full mx-4">
      <h2 class="text-2xl font-bold text-center mb-6 glow-gold">Add New Contract</h2>
      <form id="addContractForm" class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-2">Contract Name</label>
          <input type="text" id="contractName" class="input-field w-full" placeholder="e.g., BITCOIN" required>
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">Contract Address</label>
          <input type="text" id="contractAddress" class="input-field w-full" placeholder="0x..." required>
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">Icon (Emoji)</label>
          <input type="text" id="contractIcon" class="input-field w-full" placeholder="â‚¿" maxlength="2">
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">Color Theme</label>
          <select id="contractColor" class="select-field w-full">
            <option value="blue">Blue</option>
            <option value="green">Green</option>
            <option value="purple">Purple</option>
            <option value="yellow">Yellow</option>
            <option value="red">Red</option>
            <option value="orange">Orange</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">Description</label>
          <textarea id="contractDescription" class="input-field w-full" rows="3" placeholder="Brief description of the token"></textarea>
        </div>
        
        <div class="flex space-x-4">
          <button type="submit" class="action-btn flex-1">
            <i class="fas fa-plus mr-2"></i>
            Add Contract
          </button>
          <button type="button" onclick="hideAddContractModal()" class="action-btn danger-btn flex-1">
            <i class="fas fa-times mr-2"></i>
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Scripts -->
  <script src="database.js"></script>
  <script src="admin.js"></script>
</body>
</html>

